# flutter项目的资产映射器
### 版本：PYTHON 3.9

特性：
  1. 自动管理资产文件，变更资产的文件列表后只需“一键”即可自动更新pubspec.yaml文件，不需要手动维护pubspec.yaml的”assets“节点中的资产列表。
  2. 将dart代码分析器应用到资产文件，若您的资产文件名称变更或丢失，dart分析器都能正确提示您，而不是等到运行时才发现文件丢失等问题。
  3. 迅速；几乎是瞬间就可以将您的所有资产文件按照目录结构生成对应的类（Asset），对资产文件的访问是通过Asset类进行的。
  4. 跨平台，您几乎可以在任意计算机上执行，因为它是使用python


flutter资产映射器用于自动在pubspec.yaml文件中定义资产列表并且生成对应的类方便代码层面的调用。
脚本运行将在./lib下生成assets.dart文件，该文件中定义了所有资产（assets/文件夹下的所有资源）的常量；并且设计为通过和目录结构类似的层级进行调用；这类似于安卓开发中的R.java文件；通过访问该文件我们不再需要使用纯字符串访问资产，这可以大大降低错误率；
## 系统配置：
  与其他python 程序一样，使用python 常规的方法执行即可。Linux/Unix系统可以赋予该脚本可执行权限后通过`./assets_mapper`在脚本文件的目录中执行；或者将该脚本的路径配置到环境变量*PATH*后在任何地方输入`assets_mapper`执行\[推荐\];命令的执行需在flutter根目录中
  Windows中可以安装python 环境后在命令行中执行;
  该脚本的执行不需要任何参数，若没有任何意外；则程序执行成功不会有任何消息；若失败则会看到消息；脚本执行成功后，请检查./lib目录下是否生成了assets.dart文件

### 程序完整操作内容：
  1. 首先,程序运行会递归扫描当前目录下的./assets目录中的所有文件，同时在./lib下新建assets.dart文件；并在其中声明类和成员变量；其中文件夹声明成类，文件则在对应类中声明成员变量；同时声明子文件夹的变量；以建立树形结构关系。
  2. 在类定义阶段，文件夹名称会首字母大写并增加下划线（Ast类除外)后作为类名, 因此文件名称的定义必须在类名允许的正确范围内; 其下的文件被定义为String类型并包含资产访问字符串（路径）；
  3. 子文件夹的表示方式为：在父类中定义该子类类型的常量（final)；所有的目的只有一个，那就是让调用看起来和目录结构一致(因为dart不支持内部类，所以)；比如访问images下的background.png文件；调用方式则为Ast.images.BANKGROUND; 映射器会去掉文件名称的后缀，并将名称全部转大写后作为字段名。
  5. 将扫描到的所有文件定义在pubspec.yaml文件中的flutter.assets节点中，作为资产列表。
  6. 大功告成！
